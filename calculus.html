<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculus - Mathematics Learning</title>
    <style>
        /* Global Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        header {
            background-color: #2c3e50;
            color: white;
            padding: 20px 0;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        h1 {
            margin-bottom: 10px;
        }

        .back-btn {
            display: inline-block;
            background-color: #3498db;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            margin-top: 10px;
            transition: background-color 0.3s;
        }

        .back-btn:hover {
            background-color: #2980b9;
        }

        /* Content Sections */
        .section {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ecf0f1;
        }

        p {
            margin-bottom: 15px;
        }

        /* Documents Section */
        .documents-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .document-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .document-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .document-icon {
            font-size: 40px;
            color: #3498db;
            margin-bottom: 10px;
        }

        .document-title {
            font-weight: bold;
            margin-bottom: 10px;
        }

        .download-btn {
            display: inline-block;
            background-color: #27ae60;
            color: white;
            padding: 8px 15px;
            text-decoration: none;
            border-radius: 5px;
            font-size: 14px;
            transition: background-color 0.3s;
        }

        .download-btn:hover {
            background-color: #219653;
        }

        /* Videos Section */
        .videos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
            overflow: hidden;
            border-radius: 8px;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Interactive Elements */
        .interactive-widget {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #9b59b6;
        }

        .graph-container {
            width: 100%;
            height: 300px;
            background-color: white;
            border: 1px solid #ddd;
            margin: 15px 0;
            position: relative;
            overflow: hidden;
        }

        .graph-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
        }

        .graph-controls input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .graph-btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .graph-btn:hover {
            background-color: #2980b9;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .documents-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .videos-grid {
                grid-template-columns: 1fr;
            }
            
            .section {
                padding: 15px;
            }
            
            .graph-controls {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .documents-grid {
                grid-template-columns: 1fr;
            }
            
            header {
                padding: 15px 0;
            }
            
            h1 {
                font-size: 24px;
            }
        }

        /* Math Content Styles */
        .definition {
            background-color: #e8f4fc;
            padding: 15px;
            border-left: 4px solid #3498db;
            margin: 20px 0;
            border-radius: 0 5px 5px 0;
        }

        .theorem {
            background-color: #f0e8fc;
            padding: 15px;
            border-left: 4px solid #9b59b6;
            margin: 20px 0;
            border-radius: 0 5px 5px 0;
        }

        .example {
            background-color: #f9f9f9;
            padding: 15px;
            border-left: 4px solid #27ae60;
            margin: 20px 0;
            border-radius: 0 5px 5px 0;
        }

        .important {
            font-weight: bold;
            color: #e74c3c;
        }

        .formula {
            font-family: 'Cambria Math', serif;
            background-color: #f8f9fa;
            padding: 5px 10px;
            border-radius: 4px;
            display: inline-block;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Calculus Fundamentals</h1>
            <p>The mathematics of change and motion</p>
            <a href="student.html" class="back-btn">Return to Student Dashboard</a>
        </div>
    </header>

    <main class="container">
        <section class="section">
            <h2>Introduction to Calculus</h2>
            <p>Calculus is the mathematical study of continuous change, in the same way that geometry is the study of shape and algebra is the study of generalizations of arithmetic operations.</p>
            
            <div class="definition">
                <p><strong>Definition:</strong> Calculus has two major branches:</p>
                <ol>
                    <li><strong>Differential Calculus:</strong> Concerned with the concept of a derivative, which represents the rate of change of quantities.</li>
                    <li><strong>Integral Calculus:</strong> Concerned with the concept of an integral, which represents the accumulation of quantities.</li>
                </ol>
            </div>
            
            <p>These two branches are related to each other by the fundamental theorem of calculus, and they make use of the fundamental notions of convergence of infinite sequences and infinite series to a well-defined limit.</p>
        </section>

        <section class="section">
            <h2>Key Concepts</h2>
            
            <div class="theorem">
                <p><strong>Limits:</strong> The foundation of calculus</p>
                <p class="formula">lim<sub>x→a</sub> f(x) = L</p>
                <p>The limit describes the value that a function approaches as the input approaches some value.</p>
            </div>
            
            <div class="theorem">
                <p><strong>Derivatives:</strong> Rates of change</p>
                <p class="formula">f'(x) = lim<sub>h→0</sub> [f(x+h) - f(x)]/h</p>
                <p>The derivative measures how a function changes as its input changes.</p>
            </div>
            
            <div class="theorem">
                <p><strong>Integrals:</strong> Accumulation of quantities</p>
                <p class="formula">∫<sub>a</sub><sup>b</sup> f(x) dx</p>
                <p>The integral can be interpreted as the area under the curve of a function.</p>
            </div>
        </section>

        <section class="section">
            <h2>Interactive Learning</h2>
            
            <div class="interactive-widget">
                <h3>Function Grapher</h3>
                <p>Enter a function to see its graph and derivative:</p>
                
                <div class="graph-controls">
                    <input type="text" id="function-input" placeholder="e.g., x^2, sin(x), 3x+2" value="x^2">
                    <button class="graph-btn" onclick="graphFunction()">Graph Function</button>
                    <button class="graph-btn" onclick="graphDerivative()">Graph Derivative</button>
                    <button class="graph-btn" onclick="clearGraph()">Clear</button>
                </div>
                
                <div class="graph-container" id="graph-canvas">
                    <canvas id="graph"></canvas>
                </div>
                
                <p id="graph-info"></p>
            </div>
            
            <div class="interactive-widget">
                <h3>Limit Calculator</h3>
                <p>Explore limits visually:</p>
                
                <div class="graph-controls">
                    <input type="text" id="limit-function" placeholder="Function" value="sin(x)/x">
                    <input type="number" id="limit-point" placeholder="Approaches" value="0" step="0.1">
                    <button class="graph-btn" onclick="calculateLimit()">Calculate Limit</button>
                </div>
                
                <div id="limit-result"></div>
            </div>
        </section>

        <section class="section">
            <h2>Learning Documents</h2>
            <p>Download these resources to learn calculus concepts:</p>
            
            <div class="documents-grid">
                <div class="document-card">
                    <div class="document-icon">📄</div>
                    <div class="document-title">Calculus Basics</div>
                    <p>Introduction to limits, derivatives, and integrals</p>
                    <a href="#" class="download-btn" onclick="downloadDocument('calculus_basics.pdf')">Download PDF</a>
                </div>
                
                <div class="document-card">
                    <div class="document-icon">📊</div>
                    <div class="document-title">Derivative Rules</div>
                    <p>Complete reference of differentiation rules</p>
                    <a href="#" class="download-btn" onclick="downloadDocument('derivative_rules.pdf')">Download PDF</a>
                </div>
                
                <div class="document-card">
                    <div class="document-icon">📈</div>
                    <div class="document-title">Integration Techniques</div>
                    <p>Methods for solving integrals</p>
                    <a href="#" class="download-btn" onclick="downloadDocument('integration_techniques.pdf')">Download PDF</a>
                </div>
                
                <div class="document-card">
                    <div class="document-icon">🧮</div>
                    <div class="document-title">Calculus Cheat Sheet</div>
                    <p>All essential formulas in one place</p>
                    <a href="#" class="download-btn" onclick="downloadDocument('calculus_cheat_sheet.pdf')">Download PDF</a>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Video Lessons</h2>
            <p>Watch these videos to enhance your calculus understanding:</p>
            
            <div class="videos-grid">
                <div class="video-card">
                    <div class="video-container">
                        <iframe src="https://www.youtube.com/embed/WUvTyaaNkzM" title="Introduction to Calculus" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <p class="video-title">Introduction to Calculus</p>
                </div>
                
                <div class="video-card">
                    <div class="video-container">
                        <iframe src="https://www.youtube.com/embed/5yfh5cf4-0w" title="Understanding Derivatives" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <p class="video-title">Understanding Derivatives</p>
                </div>
                
                <div class="video-card">
                    <div class="video-container">
                        <iframe src="https://www.youtube.com/embed/rAof9Ld5sOg" title="Integration Basics" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <p class="video-title">Integration Basics</p>
                </div>
                
                <div class="video-card">
                    <div class="video-container">
                        <iframe src="https://www.youtube.com/embed/XqdovXWfXIM" title="Fundamental Theorem of Calculus" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <p class="video-title">Fundamental Theorem</p>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Practice Problems</h2>
            <p>Test your calculus knowledge with these problems:</p>
            
            <div class="example">
                <p><strong>Problem 1:</strong> Find the derivative of f(x) = 3x² + 2x - 5</p>
                <button class="download-btn" onclick="showAnswer('calc-answer1')">Show Answer</button>
                <div id="calc-answer1" style="display: none; margin-top: 10px;">
                    <p class="formula">f'(x) = 6x + 2</p>
                    <p>Using the power rule: d/dx[xⁿ] = nxⁿ⁻¹</p>
                </div>
            </div>
            
            <div class="example">
                <p><strong>Problem 2:</strong> Evaluate ∫(2x + 3) dx from 0 to 2</p>
                <button class="download-btn" onclick="showAnswer('calc-answer2')">Show Answer</button>
                <div id="calc-answer2" style="display: none; margin-top: 10px;">
                    <p class="formula">∫(2x + 3) dx = x² + 3x + C</p>
                    <p class="formula">Evaluated from 0 to 2: (4 + 6) - (0 + 0) = 10</p>
                </div>
            </div>
            
            <div class="example">
                <p><strong>Problem 3:</strong> Find lim<sub>x→0</sub> (sin(x)/x)</p>
                <button class="download-btn" onclick="showAnswer('calc-answer3')">Show Answer</button>
                <div id="calc-answer3" style="display: none; margin-top: 10px;">
                    <p class="formula">The limit is 1</p>
                    <p>This is a standard trigonometric limit that can be proven using the squeeze theorem or L'Hôpital's rule.</p>
                </div>
            </div>
        </section>
    </main>

    <footer style="background-color: #2c3e50; color: white; text-align: center; padding: 20px; margin-top: 30px;">
        <div class="container">
            <p>© 2023 Mathematics Learning Platform</p>
            <a href="student.html" class="back-btn">Return to Student Dashboard</a>
        </div>
    </footer>

    <script>
        // Function to handle document downloads
        function downloadDocument(filename) {
            alert(`Downloading ${filename}...`);
            console.log(`Document downloaded: ${filename}`);
            // In a real app: window.location.href = `/downloads/${filename}`;
        }

        // Function to show/hide answers
        function showAnswer(id) {
            const answer = document.getElementById(id);
            answer.style.display = answer.style.display === "none" ? "block" : "none";
        }

        // Graphing functionality
        let graph = null;
        let derivativeGraph = null;
        
        function initGraph() {
            const canvas = document.getElementById('graph');
            canvas.width = document.querySelector('.graph-container').offsetWidth;
            canvas.height = 300;
            return canvas.getContext('2d');
        }
        
        function graphFunction() {
            const ctx = initGraph();
            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
            
            const funcInput = document.getElementById('function-input').value;
            const infoElement = document.getElementById('graph-info');
            
            try {
                // In a real app, you would use a proper expression parser
                // This is a simplified version for demonstration
                const func = new Function('x', `return ${funcInput.replace(/\^/g, '**')};`);
                
                // Draw axes
                drawAxes(ctx);
                
                // Plot function
                graph = { func, color: '#3498db' };
                plotFunction(ctx, func);
                
                infoElement.textContent = `Graphing: f(x) = ${funcInput}`;
                infoElement.style.color = '#27ae60';
            } catch (e) {
                infoElement.textContent = `Error: ${e.message}`;
                infoElement.style.color = '#e74c3c';
            }
        }
        
        function graphDerivative() {
            if (!graph) {
                alert('Please graph a function first');
                return;
            }
            
            const ctx = initGraph().canvas.getContext('2d');
            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
            
            // Draw axes
            drawAxes(ctx);
            
            // Replot original function
            plotFunction(ctx, graph.func, graph.color);
            
            // Numerical approximation of derivative
            const h = 0.0001;
            const derivative = x => (graph.func(x + h) - graph.func(x)) / h;
            
            // Plot derivative
            derivativeGraph = { func: derivative, color: '#e74c3c' };
            plotFunction(ctx, derivative, '#e74c3c');
            
            document.getElementById('graph-info').textContent = 
                `Original (blue) and its derivative (red)`;
        }
        
        function clearGraph() {
            const ctx = initGraph();
            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
            graph = null;
            derivativeGraph = null;
            document.getElementById('graph-info').textContent = '';
        }
        
        function drawAxes(ctx) {
            const width = ctx.canvas.width;
            const height = ctx.canvas.height;
            const centerX = width / 2;
            const centerY = height / 2;
            
            ctx.beginPath();
            // X-axis
            ctx.moveTo(0, centerY);
            ctx.lineTo(width, centerY);
            // Y-axis
            ctx.moveTo(centerX, 0);
            ctx.lineTo(centerX, height);
            
            // Arrowheads
            ctx.moveTo(width, centerY);
            ctx.lineTo(width - 10, centerY - 5);
            ctx.lineTo(width - 10, centerY + 5);
            ctx.lineTo(width, centerY);
            
            ctx.moveTo(centerX, 0);
            ctx.lineTo(centerX - 5, 10);
            ctx.lineTo(centerX + 5, 10);
            ctx.lineTo(centerX, 0);
            
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.stroke();
            
            // Labels
            ctx.font = '12px Arial';
            ctx.fillStyle = '#000';
            ctx.fillText('x', width - 15, centerY - 10);
            ctx.fillText('y', centerX + 10, 15);
        }
        
        function plotFunction(ctx, func, color = '#3498db') {
            const width = ctx.canvas.width;
            const height = ctx.canvas.height;
            const centerX = width / 2;
            const centerY = height / 2;
            const scale = 30; // Pixels per unit
            
            ctx.beginPath();
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            
            let firstPoint = true;
            
            for (let x = 0; x <= width; x++) {
                const xVal = (x - centerX) / scale;
                try {
                    const yVal = func(xVal);
                    const y = centerY - yVal * scale;
                    
                    if (isFinite(y)) {
                        if (firstPoint) {
                            ctx.moveTo(x, y);
                            firstPoint = false;
                        } else {
                            ctx.lineTo(x, y);
                        }
                    } else {
                        firstPoint = true;
                    }
                } catch (e) {
                    firstPoint = true;
                }
            }
            
            ctx.stroke();
        }
        
        function calculateLimit() {
            const funcInput = document.getElementById('limit-function').value;
            const limitPoint = parseFloat(document.getElementById('limit-point').value);
            const resultElement = document.getElementById('limit-result');
            
            try {
                // Simplified numerical approach
                const func = new Function('x', `return ${funcInput.replace(/\^/g, '**')};`);
                
                // Approach from left and right
                const h = 0.000001;
                const leftApproach = func(limitPoint - h);
                const rightApproach = func(limitPoint + h);
                
                if (Math.abs(leftApproach - rightApproach) < 0.0001) {
                    resultElement.innerHTML = `
                        <div class="definition">
                            <p>lim<sub>x→${limitPoint}</sub> ${funcInput} ≈ ${leftApproach.toFixed(4)}</p>
                            <p>Left limit: ${leftApproach.toFixed(6)}</p>
                            <p>Right limit: ${rightApproach.toFixed(6)}</p>
                        </div>
                    `;
                } else {
                    resultElement.innerHTML = `
                        <div class="definition" style="border-left-color: #e74c3c;">
                            <p>The limit does not exist at x = ${limitPoint}</p>
                            <p>Left limit: ${leftApproach.toFixed(6)}</p>
                            <p>Right limit: ${rightApproach.toFixed(6)}</p>
                        </div>
                    `;
                }
            } catch (e) {
                resultElement.innerHTML = `
                    <div class="definition" style="border-left-color: #e74c3c;">
                        <p>Error evaluating limit: ${e.message}</p>
                    </div>
                `;
            }
        }
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize graph canvas
            initGraph();
            
            // Set up event listeners for responsive behavior
            window.addEventListener('resize', function() {
                if (graph) {
                    graphFunction();
                    if (derivativeGraph) {
                        graphDerivative();
                    }
                }
            });
        });
    </script>
</body>
</html>